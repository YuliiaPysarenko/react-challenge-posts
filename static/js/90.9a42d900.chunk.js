"use strict";(self.webpackChunkreact_challenge_posts=self.webpackChunkreact_challenge_posts||[]).push([[90],{90:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t=r(4165),a=r(5861),s=r(2791),o=r(8687),c=r(7689),i=r(8635),d=r(4942),l=r(1413),m=r(9439),u=r(3973),f=r(9140),h=r(3027),x=r(3360),Z=r(184);var b=(0,o.$j)(null,(function(e){return{onSubmit:function(n){e(i.UI.addComment(n))}}}))((function(e){var n=e.postId,r=e.onSubmit,t=(0,o.v9)(u.um.selectUser),a=(0,s.useState)({postId:n,name:"",body:"",email:t.email}),c=(0,m.Z)(a,2),i=c[0],b=c[1];function p(e){var n=e.target,r=n.name,t=n.value;b((0,l.Z)((0,l.Z)({},i),{},(0,d.Z)({},r,t)))}return(0,Z.jsx)(f.Z,{className:"p-5 mb-3",children:(0,Z.jsxs)(h.Z,{onSubmit:function(e){e.preventDefault(),r(i),b({name:"",body:""})},children:[(0,Z.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,Z.jsx)(h.Z.Label,{htmlFor:"title",children:"Title"}),(0,Z.jsx)(h.Z.Control,{type:"text",name:"name",value:i.name,id:"name",onChange:p,required:!0})]}),(0,Z.jsxs)(h.Z.Group,{className:"mb-3",children:[(0,Z.jsx)(h.Z.Label,{htmlFor:"body",children:"Body"}),(0,Z.jsx)(h.Z.Control,{type:"textarea",name:"body",value:i.body,id:"body",onChange:p,required:!0})]}),(0,Z.jsx)(x.Z,{type:"submit",children:"Add Comment"})]})})})),p=r(7022);function v(){var e=(0,o.I0)(),n=(0,c.s0)(),r=(0,c.UO)().postId;(0,s.useEffect)((function(){e(i.UI.getOnePost(r))}),[e,r]);var d=(0,o.v9)(i.cY.getChosenPost),l=function(){var n=(0,a.Z)((0,t.Z)().mark((function n(r){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e(i.UI.addComment(r));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=function(){var r=(0,a.Z)((0,t.Z)().mark((function r(a){return(0,t.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e(i.UI.deletePost(a)).then((function(){n("/posts")}));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(p.Z,{className:"mb-5",children:[(0,Z.jsx)("h1",{className:"mb-4",children:d.title}),(0,Z.jsx)(f.Z,{bg:"info",children:(0,Z.jsxs)(f.Z.Body,{className:"p-4",children:[(0,Z.jsx)(f.Z.Text,{style:{fontSize:"1.5rem"},children:d.body}),(0,Z.jsxs)(p.Z,{style:{textAlign:"right"},children:[(0,Z.jsx)(x.Z,{size:"lg",variant:"info",onClick:function(){return n("/posts/".concat(r,"/edit"))},children:"Edit post"}),(0,Z.jsx)(x.Z,{size:"lg",variant:"danger",onClick:function(){return m(r)},children:"Remove post"})]})]})})]}),(0,Z.jsxs)(p.Z,{children:[(0,Z.jsx)("div",{className:"justify-content-between row row-cols-auto mb-3",children:(0,Z.jsx)("h2",{children:"Comments"})}),(0,Z.jsx)("div",{children:(0,Z.jsx)(b,{postId:Number(r),onSubmit:l})}),d.comments&&d.comments.length>0?d.comments.map((function(e){return(0,Z.jsxs)(f.Z,{className:"mb-3",children:[(0,Z.jsx)(f.Z.Header,{children:e.email}),(0,Z.jsxs)(f.Z.Body,{children:[(0,Z.jsx)(f.Z.Title,{children:e.name}),(0,Z.jsx)(f.Z.Text,{children:e.body})]})]},e.id)})):(0,Z.jsx)("p",{children:"There are no comments for this post yet."})]})]})}},9140:function(e,n,r){r.d(n,{Z:function(){return T}});var t=r(1413),a=r(5987),s=r(1694),o=r.n(s),c=r(2791),i=r(162),d=r(6543),l=r(7472),m=r(184),u=["bsPrefix","className","variant","as"],f=c.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.variant,d=e.as,l=void 0===d?"img":d,f=(0,a.Z)(e,u),h=(0,i.vE)(r,"card-img");return(0,m.jsx)(l,(0,t.Z)({ref:n,className:o()(c?"".concat(h,"-").concat(c):h,s)},f))}));f.displayName="CardImg";var h=f,x=r(6040),Z=["bsPrefix","className","as"],b=c.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,d=e.as,l=void 0===d?"div":d,u=(0,a.Z)(e,Z),f=(0,i.vE)(r,"card-header"),h=(0,c.useMemo)((function(){return{cardHeaderBsPrefix:f}}),[f]);return(0,m.jsx)(x.Z.Provider,{value:h,children:(0,m.jsx)(l,(0,t.Z)((0,t.Z)({ref:n},u),{},{className:o()(s,f)}))})}));b.displayName="CardHeader";var p=b,v=["bsPrefix","className","bg","text","border","body","children","as"],j=(0,l.Z)("h5"),y=(0,l.Z)("h6"),g=(0,d.Z)("card-body"),N=(0,d.Z)("card-title",{Component:j}),C=(0,d.Z)("card-subtitle",{Component:y}),w=(0,d.Z)("card-link",{Component:"a"}),I=(0,d.Z)("card-text",{Component:"p"}),P=(0,d.Z)("card-footer"),k=(0,d.Z)("card-img-overlay"),S=c.forwardRef((function(e,n){var r=e.bsPrefix,s=e.className,c=e.bg,d=e.text,l=e.border,u=e.body,f=e.children,h=e.as,x=void 0===h?"div":h,Z=(0,a.Z)(e,v),b=(0,i.vE)(r,"card");return(0,m.jsx)(x,(0,t.Z)((0,t.Z)({ref:n},Z),{},{className:o()(s,b,c&&"bg-".concat(c),d&&"text-".concat(d),l&&"border-".concat(l)),children:u?(0,m.jsx)(g,{children:f}):f}))}));S.displayName="Card",S.defaultProps={body:!1};var T=Object.assign(S,{Img:h,Title:N,Subtitle:C,Body:g,Link:w,Text:I,Header:p,Footer:P,ImgOverlay:k})}}]);
//# sourceMappingURL=90.9a42d900.chunk.js.map